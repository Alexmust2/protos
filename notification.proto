syntax = "proto3";

package notification;

option go_package = "github.com/notify-hub/pkg/proto";

service NotificationService {
  rpc SendNotification (SendNotificationRequest) returns (SendNotificationResponse);
}

message ChannelNotification {
  string channel = 1;          // telegram, email, sms
  string integration_key = 2;  // bot-client-A, smtp-provider-B
  repeated string receivers = 3; // Список получателей
}

message SendNotificationRequest {
  repeated ChannelNotification notifications = 1;
  string message = 2;
}

message ChannelResult {
  string channel = 1;
  bool success = 2;
  string error_message = 3;
}

message SendNotificationResponse {
  repeated ChannelResult results = 1;
}
